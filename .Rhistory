<<<<<<< Updated upstream
# Ensure Height is numeric
BRAP_TABLE$Height <- as.numeric(BRAP_TABLE$Height)
anova_height <- aov(Visit ~ Height, data = BRAP_TABLE)
summary(anova_diameter)
=======
breaks = "Sturges")
# Create the second histogram
hist(BRAPHDR06_2024,
main = "Histogram of BRAPHDR2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
hist(BRAPHDR10_2024,
main = "Histogram of BRAPHDR2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Reset plotting area to default
par(mfrow = c(2, 3))
# Set up the plotting area to have 1 row and 2 columns
par(mfrow = c(2, 2))
# Create the first histogram
#hist(ChildsHDR2023,  main = "Histogram of Childs HDR 2023",  xlab = "Height to Diameter Ratio",  col = "grey",  breaks = "Sturges")
# Create the second histogram
#hist(ChildsHDR2024, main = "Histogram of Childs HDR 2024", xlab = "Height to Diameter Ratio", col = "grey", breaks = "Sturges")
# Create the first histogram
hist(BRAPHDR2023,
main = "Histogram of BRAPHDR2023",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Create the second histogram
hist(BRAPHDR06_2024,
main = "Histogram of BRAPHDR2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
hist(BRAPHDR10_2024,
main = "Histogram of BRAPHDR2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Reset plotting area to default
par(mfrow = c(2, 3))
# Reset plotting area to default
par(mfrow = c(2, 1))
# Set up the plotting area to have 1 row and 2 columns
par(mfrow = c(2, 2))
# Create the first histogram
#hist(ChildsHDR2023,  main = "Histogram of Childs HDR 2023",  xlab = "Height to Diameter Ratio",  col = "grey",  breaks = "Sturges")
# Create the second histogram
#hist(ChildsHDR2024, main = "Histogram of Childs HDR 2024", xlab = "Height to Diameter Ratio", col = "grey", breaks = "Sturges")
# Create the first histogram
hist(BRAPHDR2023,
main = "Histogram of BRAPHDR2023",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Create the second histogram
hist(BRAPHDR06_2024,
main = "Histogram of BRAPHDR2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
hist(BRAPHDR10_2024,
main = "Histogram of BRAPHDR2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Reset plotting area to default
par(mfrow = c(2, 3))
# Set up the plotting area to have 1 row and 2 columns
par(mfrow = c(2, 2))
# Create the first histogram
#hist(ChildsHDR2023,  main = "Histogram of Childs HDR 2023",  xlab = "Height to Diameter Ratio",  col = "grey",  breaks = "Sturges")
# Create the second histogram
#hist(ChildsHDR2024, main = "Histogram of Childs HDR 2024", xlab = "Height to Diameter Ratio", col = "grey", breaks = "Sturges")
# Create the first histogram
hist(BRAPHDR2023,
main = "Histogram of BRAPHDR2023",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Create the second histogram
hist(BRAPHDR06_2024,
main = "Histogram of BRAPHDR06_2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
hist(BRAPHDR10_2024,
main = "Histogram of BRAPHDR10_2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Reset plotting area to default
par(mfrow = c(2, 3))
par(mfrow = c(2, 2))
# Create the first histogram
hist(ChildsHDR2023,  main = "Histogram of Childs HDR 2023",  xlab = "Height to Diameter Ratio",  col = "grey",  breaks = "Sturges")
# Create the second histogram
hist(ChildsHDR2024, main = "Histogram of Childs HDR 2024", xlab = "Height to Diameter Ratio", col = "grey", breaks = "Sturges")
#Beasley Table
library(dplyr)
# Summarize and calculate means for specific columns
BRAP06_2024_table <- BRAP06_2024 %>%
summarise(
Height = mean(Height, na.rm = TRUE),
Diameter = mean(Diameter, na.rm = TRUE),
HDR = mean(HDR, na.rm = TRUE),
)
BRAP2023_table <- BRAP10_2023 %>%
summarise(
Height = mean(Height, na.rm = TRUE),
Diameter = mean(Diameter, na.rm = TRUE),
HDR = mean(HDR, na.rm = TRUE),
)
BRAP10_2024_table <- BRAP10_2024 %>%
summarise(
Height = mean(Height, na.rm = TRUE),
Diameter = mean(Diameter, na.rm = TRUE),
HDR = mean(HDR, na.rm = TRUE),
)
BRAP_TABLE <- rbind(BRAP2023_table,BRAP06_2024_table,BRAP10_2024_table)
BRAP_TABLE <- BRAP_TABLE %>%
mutate(Visit = c("Oct 2023", "June 2024", "Oct 2024"))
BRAP_TABLE <- BRAP_TABLE[, c(4, 1, 2, 3)]
print(BRAP_TABLE)
t.test((BRAP06_2024,BRAP10_2024))
t.test((BRAP06_2024,BRAP10_2024))
t.test((BRAP06_2024$HDR, BRAP10_2024$HDR))
t.test((BRAP06_2024$HDR BRAP10_2024$HDR))
t.test((BRAP06_2024$HDR,BRAP10_2024$HDR))
t.test(BRAP06_2024$HDR,BRAP10_2024$HDR)
>>>>>>> Stashed changes
knitr::opts_chunk$set(echo = TRUE)
CampVerdeGuage <- readNWISdv(
"09506000",
"00060",
startDate = "1989-01-01",
endDate = "",
statCd = "00003"
)
#install.packages("dataRetrieval")
library(dataRetrieval)
library(ggplot2)
library(dplyr)
CampVerdeGuage <- readNWISdv(
"09506000",
"00060",
startDate = "1989-01-01",
endDate = "",
statCd = "00003"
)
CampVerdeGuage <- CampVerdeGuage %>%
rename(Discharge = X_00060_00003)
#Childs
ggplot(data = CampVerdeGuage, mapping = aes(x = Date, y = Discharge)) +
geom_line()+
labs(title = "Chlids")+
geom_vline(xintercept = as.Date("2023-06-15"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2021-10-14"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2017-06-04"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2019-06-08"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2010-06-15"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2014-06-01"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2013-06-05"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2007-06-04"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2005-06-01"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2001-06-01"), color = "yellow", linetype = "dashed", size = 1)+
geom_hline( yintercept = 52700, color= "blue", linetype = "dashed", size =1)+
annotate("text", x = as.Date("1990-04-01"), y = 52700,
label = "Restructuring Flow", color = "black", vjust = -1, size = 3)+
geom_hline(yintercept = 10500, color = "blue", linetype = "dashed", size = 1)+
annotate("text" ,x = as.Date("1990-04-01"), y = 10500, label ="Rejuvenating  flow"
, color ="black", vjust =-1, size = 3)
DendroSiteAges <- read_csv("DendroSiteAges.csv")
DendroSiteAges <- DendroSiteAges %>%
arrange(Year) %>%  # Make sure data is ordered by year
mutate(CumulativeInnerRing = cumsum(All))
# Bar plot with specified y-values
ggplot(data = DendroSiteAges, aes(x=Year, y = All)) +
#geom_line(aes(y = CumulativeInnerRing), color = "darkblue", size = 1) +  # Cumulative line
geom_col() +
# scale_y_continuous(name = "Inner Ring Count",sec.axis = sec_axis(~ ., name = "Cumulative Inner Ring Count") ) +
labs(x = "Year", y = "Count", title = "Inner Ring Tree Ring Count") +
geom_line(CampVerdeGuage, mapping = aes(x = Date, y = Discharge)))+
DendroSiteAges <- read_csv("DendroSiteAges.csv")
DendroSiteAges <- DendroSiteAges %>%
arrange(Year) %>%  # Make sure data is ordered by year
mutate(CumulativeInnerRing = cumsum(All))
# Bar plot with specified y-values
ggplot(data = DendroSiteAges, aes(x=Year, y = All)) +
#geom_line(aes(y = CumulativeInnerRing), color = "darkblue", size = 1) +  # Cumulative line
geom_col() +
# scale_y_continuous(name = "Inner Ring Count",sec.axis = sec_axis(~ ., name = "Cumulative Inner Ring Count") ) +
labs(x = "Year", y = "Count", title = "Inner Ring Tree Ring Count") +
geom_line(CampVerdeGuage, mapping = aes(x = Date, y = Discharge))+
theme_minimal()
DendroSiteAges <- read_csv("DendroSiteAges.csv")
DendroSiteAges <- DendroSiteAges %>%
arrange(Year) %>%  # Make sure data is ordered by year
mutate(CumulativeInnerRing = cumsum(All))
# Bar plot with specified y-values
ggplot(data = DendroSiteAges, aes(x=Year, y = All)) +
#geom_line(aes(y = CumulativeInnerRing), color = "darkblue", size = 1) +  # Cumulative line
geom_col() +
# scale_y_continuous(name = "Inner Ring Count",sec.axis = sec_axis(~ ., name = "Cumulative Inner Ring Count") ) +
labs(x = "Year", y = "Count", title = "Inner Ring Tree Ring Count") +
geom_line(data= CampVerdeGuage, mapping = aes(x = Date, y = Discharge))+
theme_minimal()
# Combine two datasets in one ggplot
ggplot(data = DendroSiteAges, aes(x = Year, y = All)) +
geom_col(fill = "skyblue", alpha = 0.7) +  # Bar plot for DendroSiteAges
geom_line(data = CampVerdeGuage, mapping = aes(x = Date, y = Discharge),
color = "darkblue", size = 1) +  # Line plot for CampVerdeGuage
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ ., name = "Discharge")  # Secondary y-axis label
) +
theme_minimal()
ggplot(data = DendroSiteAges, aes(x = Year)) +
geom_col(aes(y = All), fill = "skyblue", alpha = 0.7) +  # Bar plot for DendroSiteAges (primary y-axis)
# Scaled line plot for CampVerdeGuage (secondary y-axis)
geom_line(data = CampVerdeGuage, aes(x = Date, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge")  # Scale back for correct values on secondary y-axis
) +
theme_minimal()
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "skyblue", alpha = 0.7) +
# Scaled line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage, aes(x = as.numeric(Date),
y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge")  # Secondary y-axis label
) +
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "skyblue", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge")  # Secondary y-axis label
) +
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "skyblue", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge")  # Secondary y-axis label
) +
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge")  # Secondary y-axis label
) +
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge")  # Secondary y-axis label
) +
scale_x_continuous(breaks = seq(min(DendroSiteAges$Year), max(DendroSiteAges$Year), by = 5)) +  # Set x-axis breaks every 5 years
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge"),
trans = "log10"# Secondary y-axis label
) +
scale_x_continuous(breaks = seq(min(DendroSiteAges$Year), max(DendroSiteAges$Year), by = 5)) +  # Set x-axis breaks every 5 years
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge (Log Scale)", trans = "log10")  # Applying log scale to secondary y-axis
) +
scale_x_continuous(breaks = seq(min(DendroSiteAges$Year), max(DendroSiteAges$Year), by = 5)) +  # Set x-axis breaks every 5 years
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge (Log Scale)", trans = "log10")  # Applying log scale to secondary y-axis
) +
scale_x_continuous(breaks = seq(min(DendroSiteAges$Year), max(DendroSiteAges$Year), by = 5)) +  # Set x-axis breaks every 5 years
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge (Log Scale)", trans = "log")  # Applying log scale to secondary y-axis
) +
scale_x_continuous(breaks = seq(min(DendroSiteAges$Year), max(DendroSiteAges$Year), by = 5)) +  # Set x-axis breaks every 5 years
theme_minimal()
#Childs
ggplot(data = CampVerdeGuage, mapping = aes(x = Date, y = Discharge) log("y")) +
#Childs
ggplot(data = CampVerdeGuage, mapping = aes(x = Date, y = Discharge), log("y")) +
geom_line()+
labs(title = "Chlids")+
geom_vline(xintercept = as.Date("2023-06-15"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2021-10-14"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2017-06-04"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2019-06-08"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2010-06-15"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2014-06-01"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2013-06-05"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2007-06-04"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2005-06-01"), color = "red", linetype = "dashed", size = 1)+
geom_vline(xintercept = as.Date("2001-06-01"), color = "yellow", linetype = "dashed", size = 1)+
geom_hline( yintercept = 52700, color= "blue", linetype = "dashed", size =1)+
annotate("text", x = as.Date("1990-04-01"), y = 52700,
label = "Restructuring Flow", color = "black", vjust = -1, size = 3)+
geom_hline(yintercept = 10500, color = "blue", linetype = "dashed", size = 1)+
annotate("text" ,x = as.Date("1990-04-01"), y = 10500, label ="Rejuvenating  flow"
, color ="black", vjust =-1, size = 3)
ggplot(data = DendroSiteAges, aes(x = Year, y = All)) +
geom_col(fill = "skyblue", alpha = 0.7) +
geom_line(data = CampVerdeGuage,
aes(x = Year, y = log10(Discharge) * (max(DendroSiteAges$All) / max(log10(CampVerdeGuage$Discharge)))),
color = "darkblue", size = 1) +  # Log scale transformation for Discharge
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Log-Scaled Discharge") +
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ ., name = "Log of Discharge")
) +
theme_minimal()
library(ggplot2)
<<<<<<< Updated upstream
# Example data frame creation (assuming you already have this)
# DendroSiteAges <- data.frame(Year = 1990:2023, All = sample(1:100, 34, replace = TRUE))
# CampVerdeGuage <- data.frame(Year = 1990:2023, Discharge = sample(1:1000, 34, replace = TRUE))
ggplot(data = DendroSiteAges, aes(x = Year, y = All)) +
geom_col(fill = "skyblue", alpha = 0.7) +  # Bar plot for counts
geom_line(data = CampVerdeGuage,
aes(x = Year, y = log10(Discharge)),  # Log scale for Discharge
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge (Log Scale)") +
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(trans = ~ 10^.,  # Transform back to original scale for secondary axis
name = "Discharge (cfs)")
) +
theme_minimal()
ggplot() +
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "skyblue", alpha = 0.7) +  # Bar plot for counts
geom_line(data = CampVerdeGuage,
aes(x = Year, y = log10(Discharge)),  # Log scale for Discharge
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge (Log Scale)") +
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(trans = ~ 10^.,  # Back-transform to original scale for secondary axis
name = "Discharge (cfs)")
) +
theme_minimal()
DendroSiteAges <- read_csv("DendroSiteAges.csv")
DendroSiteAges <- DendroSiteAges %>%
arrange(Year) %>%  # Make sure data is ordered by year
mutate(CumulativeInnerRing = cumsum(All))
# Bar plot with specified y-values
ggplot(data = DendroSiteAges, aes(x=Year, y = All)) +
geom_col() +
# scale_y_continuous(name = "Inner Ring Count",sec.axis = sec_axis(~ ., name = "Cumulative Inner Ring Count") ) +
labs(x = "Year", y = "Count", title = "Inner Ring Tree Ring Count") +
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge))),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge (Log Scale)", )  # Applying log scale to secondary y-axis
) +
scale_x_continuous(breaks = seq(min(DendroSiteAges$Year), max(DendroSiteAges$Year), by = 5)) +  # Set x-axis breaks every 5 years
theme_minimal()
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge), log= "Y")),
# Ensure Date in CampVerdeGuage is of type integer for proper alignment with Year in DendroSiteAges
CampVerdeGuage$Year <- as.numeric(format(CampVerdeGuage$Date, "%Y"))
ggplot() +
# Bar plot for DendroSiteAges (ring count)
geom_col(data = DendroSiteAges, aes(x = Year, y = All), fill = "grey", alpha = 0.7) +
# Line plot for CampVerdeGuage (discharge) on a secondary y-axis
geom_line(data = CampVerdeGuage,
aes(x = Year, y = Discharge * (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)) ,log= "Y"),
color = "darkblue", size = 1) +
labs(x = "Year",
y = "Inner Ring Count",
title = "Inner Ring Tree Ring Count with Discharge") +
# Set primary and secondary y-axis labels
scale_y_continuous(
name = "Inner Ring Count",
sec.axis = sec_axis(~ . / (max(DendroSiteAges$All) / max(CampVerdeGuage$Discharge)),
name = "Discharge (Log Scale)", )  # Applying log scale to secondary y-axis
) +
scale_x_continuous(breaks = seq(min(DendroSiteAges$Year), max(DendroSiteAges$Year), by = 5)) +  # Set x-axis breaks every 5 years
theme_minimal()
# Calculate mean annual values
head(CampVerdeGuage)
# Calculate mean annual values
head(CampVerdeGuage)
annual_means <- CampVerdeGuage %>%
group_by(year = Year(Date)) %>%
summarise(mean_value = mean(Discharge, na.rm = TRUE))  # Replace 'Value' with your parameter name
# Calculate mean annual values
head(CampVerdeGuage)
annual_means <- CampVerdeGuage %>%
group_by(year = Year(Year)) %>%
summarise(mean_value = mean(Discharge, na.rm = TRUE))  # Replace 'Value' with your parameter name
# Calculate mean annual values
head(CampVerdeGuage)
# Load necessary libraries
library(dplyr)
library(lubridate)
# Assuming CampVerdeGuage is already loaded
# Ensure that the Year column is in Date format (if it isn't already)
CampVerdeGuage$Year <- as.Date(CampVerdeGuage$Year)
# Calculate mean annual values
annual_means <- CampVerdeGuage %>%
group_by(year = year(Year)) %>%  # Corrected here
summarise(mean_value = mean(Discharge, na.rm = TRUE))  # Replace 'Discharge' with your parameter name
# View the results
print(annual_means)
View(CampVerdeGuage)
CampVerdeGuage <- readNWISdv(
"09506000",
"00060",
startDate = "1989-01-01",
endDate = "",
statCd = "00003"
)
CampVerdeGuage <- CampVerdeGuage %>%
rename(Discharge = X_00060_00003)
annual_means <- CampVerdeGuage %>%
group_by(year = year(Year)) %>%  # Corrected here
summarise(mean_value = mean(Discharge, na.rm = TRUE))  # Replace 'Discharge' with your parameter name
# Load necessary libraries
library(dplyr)
library(lubridate)
# Assuming CampVerdeGuage is already loaded
# Ensure that the Year column is in Date format (if it isn't already)
CampVerdeGuage$Year <- as.Date(CampVerdeGuage$Year)
# Calculate mean annual values
annual_means <- CampVerdeGuage %>%
group_by(year = year(Date)) %>%  # Corrected here
summarise(mean_value = mean(Discharge, na.rm = TRUE))  # Replace 'Discharge' with your parameter name
# View the results
print(annual_means)
plot(annual_means)
View(annual_means)
View(annual_means)
ggplot( data = annual_means, aes(x= year, y= mean_value))
+geom_line()
ggplot( data = annual_means, aes(x= year, y= mean_value))
+geom_line()
annual_means <- setNames(annual_means, c("Year", "Mean"))
# View the results
print(annual_means)
ggplot( data = annual_means, aes(x= Year, y= Mean))
+geom_line()
str(annual_means)
ggplot(data = annual_means, aes(x = year, y = mean_value)) +
geom_line() +
labs(title = "Mean Annual Values",
x = "Year",
y = "Mean Value") +
theme_minimal()
ggplot(data = annual_means, aes(x = year, y = mean)) +
geom_line() +
labs(title = "Mean Annual Values",
x = "Year",
y = "Mean Value") +
theme_minimal()
View(annual_means)
ggplot(data = annual_means, aes(x = year, y = mean)) +
geom_line() +
labs(title = "Mean Annual Values",
x = "Year",
y = "Mean Value") +
theme_minimal()
ggplot(data = annual_means, aes(x = Year, y = Mean)) +
geom_line() +
labs(title = "Mean Annual Values",
x = "Year",
y = "Mean Value") +
theme_minimal()
DendroSiteAges <- read_csv("DendroSiteAges.csv")
DendroSiteAges <- DendroSiteAges %>%
arrange(Year) %>%  # Make sure data is ordered by year
mutate(CumulativeInnerRing = cumsum(All))
# Bar plot with specified y-values
ggplot(data = DendroSiteAges, aes(x=Year, y = All)) +
geom_col() +
geom_line(data= annual_means, aes(x= Year, Y= Mean) )
# Bar plot with specified y-values
ggplot(data = DendroSiteAges, aes(x=Year, y = All)) +
geom_col() +
geom_line(data= annual_means, aes(x= Year, y= Mean) )
# scale_y_continuous(name = "Inner Ring Count",sec.axis = sec_axis(~ ., name = "Cumulative Inner Ring Count") ) +
labs(x = "Year", y = "Count", title = "Inner Ring Tree Ring Count") +
theme_minimal()
=======
Well9JFebtoAug <- read_csv("BRAPWell9_022924to080724.csv")
Well4FebtoAug <- read_csv("BRAPWell4_02292024to08072024.csv")
Well2bFebtoAug <- read_csv("BRAWell2b_02292024to08072024.csv")
# Convert Date if necessary
Well9JFebtoAug$Date <- as.POSIXct(Well9JFebtoAug$Date, format = "%m/%d/%Y %H:%M")  # Adjust format
# Plot the data
ggplot(Well9JFebtoAug, aes(x = Date, y = GroundSurface)) +
geom_line(color = "black", size = 1) +
labs(title = "Beasley Flat Well 9",
x = "Date",
y = "Ft") +
theme_minimal() +
scale_x_datetime(date_labels = "%Y-%m-%d", date_breaks = "1 month")
View(Well9JFebtoAug)
# Plot the data
ggplot(Well9JFebtoAug, aes(x = Date, y = M)) +
geom_line(color = "black", size = 1) +
labs(title = "Beasley Flat Well 9",
x = "Date",
y = "Ft") +
theme_minimal() +
scale_x_datetime(date_labels = "%Y-%m-%d", date_breaks = "1 month")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
#install.packages("ggplot2")
#remove(HDR)
BRAP10_2023 <- read_csv("BRAP10_2023.csv")
BRAP06_2024 <- read_csv("BRAP06_2024.csv")
BRAP10_2024 <- read_csv("Brap10_2024.csv")
Childs10_2023 <- read_csv("Childs10-2023.csv")
Childs06_2024 <- read_csv("Childs06-2024.csv")
BRAP06_2024 <- na.omit(BRAP06_2024)
BRAP10_2023 <- na.omit(BRAP10_2023)
BRAP10_2023 <- read_csv("BRAP10_2023.csv")
BRAP06_2024 <- read_csv("BRAP06_2024.csv")
BRAP10_2024 <- read_csv("Brap10_2024.csv")
Childs10_2023 <- read_csv("Childs10-2023.csv")
Childs06_2024 <- read_csv("Childs06-2024.csv")
BRAP06_2024 <- na.omit(BRAP06_2024)
BRAP10_2023 <- na.omit(BRAP10_2023)
BRAP10_2024 <- na.omit(BRAP10_2024)
Childs10_2023 <- na.omit(Childs10_2023)
Childs06_2024 <- na.omit(Childs06_2024)
#Make Values numeric
#Beasley
BRAP06_2024 <- BRAP06_2024 %>%
mutate(
Height = as.numeric(Height),
Diameter = as.numeric(Diameter),
HDR = as.numeric(HDR)
)
BRAP10_2023 <- BRAP10_2023 %>%
mutate(
Height = as.numeric(Height),
Diameter = as.numeric(Diameter),
HDR = as.numeric(HDR)
)
BRAP10_2024 <- BRAP10_2024 %>%
mutate(
Height = as.numeric(Height),
Diameter = as.numeric(Diameter),
HDR = as.numeric(HDR)
)
#Childs
Childs10_2023 <- Childs10_2023 %>%
mutate(
Height = as.numeric(Height),
Diameter = as.numeric(Diameter),
HDR = as.numeric(HDR)
)
Childs06_2024 <- Childs06_2024 %>%
mutate(
Height = as.numeric(`Height`),
Diameter = as.numeric(`Diameter`),
HDR = as.numeric(`HDR`)
)
# Extract the columns you need
ChildsHDR2023 <- Childs10_2023[, 3]
ChildsHDR2024 <- Childs06_2024[, 3]
BRAPHDR2023 <- BRAP10_2023[,4]
BRAPHDR06_2024 <- BRAP06_2024[,4]
BRAPHDR10_2024 <- BRAP10_2024[,4]
#Clean Data Childs
ChildsHDR2024 <- unlist(ChildsHDR2024)
ChildsHDR2024 <- na.omit(ChildsHDR2024)
ChildsHDR2023 <- unlist(ChildsHDR2023)
ChildsHDR2023<- na.omit(ChildsHDR2023)
BRAPHDR2023 <- na.omit(BRAPHDR2023)
BRAPHDR2023 <- unlist(BRAPHDR2023)
BRAPHDR06_2024 <- na.omit(BRAPHDR06_2024)
BRAPHDR06_2024 <- unlist(BRAPHDR06_2024)
BRAPHDR10_2024 <- unlist(BRAPHDR10_2024)
BRAPHDR10_2024 <- na.omit(BRAPHDR10_2024)
par(mfrow = c(2, 2))
# Create the first histogram
hist(ChildsHDR2023,  main = "Histogram of Childs HDR 2023",  xlab = "Height to Diameter Ratio",  col = "grey",  breaks = "Sturges")
# Create the second histogram
hist(ChildsHDR2024, main = "Histogram of Childs HDR 2024", xlab = "Height to Diameter Ratio", col = "grey", breaks = "Sturges")
# Set up the plotting area to have 1 row and 2 columns
par(mfrow = c(2, 2))
# Create the first histogram
hist(BRAPHDR2023,
main = "Histogram of BRAPHDR2023",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Create the second histogram
hist(BRAPHDR06_2024,
main = "Histogram of BRAPHDR06_2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
hist(BRAPHDR10_2024,
main = "Histogram of BRAPHDR10_2024",
xlab = "Height to Diameter Ratio",
col = "grey22",
breaks = "Sturges")
# Reset plotting area to default
par(mfrow = c(2, 3))
>>>>>>> Stashed changes
